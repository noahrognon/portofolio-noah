---
import { getProjetsPhares } from "../fonction/backend.js";

const projets = await getProjetsPhares();
---

<section class=" text-white projets-phares">
  <div class="mx-auto max-w-6xl space-y-16">
    <!-- Liste des projets -->
    <div class="space-y-16">
      {projets.map((projet) => (
        <article
          class="flex flex-col md:flex-row items-center gap-8 bg-[#0f1115] border border-[#ff7a00]/60 rounded-2xl p-6 md:p-10 shadow-lg hover:shadow-[#ff7a00]/30 transition-shadow duration-300"
        >
          <!-- Image -->
          <div class="md:w-1/2 flex justify-center items-center">
            <div class="w-full max-w-[460px] h-[240px] md:h-[260px] flex items-center justify-center bg-[#0c0e12] rounded-xl">
              <img
                src={projet.image}
                alt={projet.titre}
                class="max-h-full max-w-full object-contain transition-transform duration-300 hover:scale-[1.02]"
                loading="lazy"
              />
            </div>
          </div>

          <!-- Texte -->
          <div class="md:w-1/2 space-y-3 text-left">
            <p class="text-[#ff7a00] font-medium text-lg">{projet.themes}</p>
            <h3 class="text-4xl font-bold text-white leading-tight">{projet.titre}</h3>
            <p class="text-slate-300 text-[1.05rem] leading-relaxed">{projet.description}</p>
            <a
              href={`/projets/${projet.id}`}
              class="inline-flex items-center gap-2 bg-[#ff7a00] text-black font-semibold px-6 py-3 rounded-md mt-3 transition-transform hover:-translate-y-0.5 hover:bg-[#ff8c26]"
            >
              Voir le projet
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                strokeWidth="2"
                stroke="currentColor"
                class="w-4 h-4"
              >
                <path strokeLinecap="round" strokeLinejoin="round" d="M13.5 4.5L21 12l-7.5 7.5M21 12H3" />
              </svg>
            </a>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
