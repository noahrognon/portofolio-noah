---
import portrait from "../assets/img/noah.webp";
import cvFileLocal from "../assets/files/Curriculum_vitae_de_Noah_ROGNON_otcotbre_2025.pdf";
import { getCvFile } from "../fonction/backend.js";

const cvRecord = await getCvFile();
const cvFile = cvRecord?.url ?? cvFileLocal;

const intro =
	"Je m'appelle Noah Rognon, étudiant en deuxième année de BUT Métiers du Multimédia et de l'Internet (MMI) à Montbéliard.";

const storyCards = [
	{
		label: "Ce que je fais",
		body: "Aujourd'hui, je me spécialise dans la création de sites et d'applications web, en travaillant aussi bien sur l'interface utilisateur que sur les aspects techniques (front-end, back-end, bases de données). J'aime concevoir des projets complets, en accordant une place importante à l'expérience utilisateur et à la qualité du code.",
	},
	{
		label: "Parcours",
		body: "Après avoir exploré différents domaines créatifs et techniques – du design graphique à la communication en passant par la vidéo – j'ai choisi de m'orienter vers le parcours Développement web et dispositifs interactifs (DWeb).",
	},
	{
		label: "Polyvalence MMI",
		body: "Ma formation et mes projets m'ont permis de développer une véritable polyvalence MMI : je sais allier programmation, design et communication, ce qui me donne une vision globale du processus de création numérique.",
	},
	{
		label: "Objectif",
		body: "Mon objectif est de devenir développeur web full stack, capable de concevoir des solutions interactives modernes, performantes et accessibles, tout en gardant une sensibilité créative et un souci du détail.",
	},
];
---

<section
	class="mx-auto flex w-full max-w-5xl flex-col items-center gap-12 px-4 py-20 sm:px-6 lg:px-0"
>
	<div class="relative">
		<div
			class="absolute inset-0 rounded-full bg-gradient-to-br from-[#ff7a00] via-[#ffac4d] to-transparent opacity-80 blur-[120px]"
			aria-hidden="true"
		>
		</div>
		<div
			class="relative flex h-48 w-48 items-center justify-center rounded-full border border-[#F46201]/70 p-1.5 shadow-[0_30px_70px_-25px_rgba(255,122,0,0.65)] sm:h-56 sm:w-56"
		>
			<img
				src={portrait.src}
				alt="Portrait de Noah Rognon"
				class="h-full w-full rounded-full object-cover"
				loading="lazy"
			/>
		</div>
	</div>

	<div class="flex flex-col items-center gap-4 text-center">
		<span
			class="inline-flex items-center gap-2 rounded-full border border-[#F46201]/30 bg-[#ff7a00]/10 px-3 py-1 text-xs font-semibold tracking-[0.18em] uppercase text-[#F46201]"
		>
			À propos
		</span>
		<p
			class="max-w-3xl text-lg font-semibold leading-8 text-white/90 sm:text-xl sm:leading-9"
		>
			{intro}
		</p>
	</div>

	<div
		class="grid w-full gap-5 text-left text-[15px] leading-7 text-slate-200 sm:text-base sm:leading-8 md:grid-cols-2"
	>
		{
			storyCards.map((block) => (
				<article class="group relative flex h-full flex-col gap-3 overflow-hidden rounded-2xl border border-white/5 bg-[#121920]/70 px-5 py-6 shadow-[0_16px_35px_-25px_rgba(15,23,42,0.8)] transition duration-300 hover:-translate-y-1 hover:border-[#ff7a00]/40 hover:shadow-[0_28px_55px_-30px_rgba(255,122,0,0.55)]">
					<div
						class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-transparent via-[#F46201] to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"
						aria-hidden="true"
					/>
					<h3 class="flex items-center gap-2 text-sm font-semibold uppercase tracking-wide text-[#F46201]">
						<span class="h-1.5 w-1.5 rounded-full bg-[#ff7a00]" />
						{block.label}
					</h3>
					<p class="text-sm text-slate-200 sm:text-[15px] sm:leading-7">
						{block.body}
					</p>
				</article>
			))
		}
	</div>

	<div class="flex flex-col gap-4 sm:flex-row sm:gap-5">
		<a
			href={cvFile}
			download
			class="inline-flex items-center justify-center gap-2 rounded-full border border-[#ff7a00] bg-[#ff7a00] px-6 py-3 text-sm font-semibold text-black shadow-[0_12px_30px_-15px_rgba(255,122,0,0.9)] transition duration-200 hover:-translate-y-0.5 hover:bg-[#ff9633] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#ff7a00]"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				viewBox="0 0 24 24"
				fill="none"
				stroke="currentColor"
				stroke-width="1.5"
				class="h-4 w-4"
			>
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					d="M12 3v12m0 0 4-4m-4 4-4-4m9 7H7a2 2 0 0 1-2-2v-1"></path>
			</svg>
			Télécharger CV
		</a>
		<a
			href="#contact"
			class="inline-flex items-center justify-center gap-2 rounded-full border border-[#ff7a00]/70 px-6 py-3 text-sm font-semibold text-[#ff7a00] transition duration-200 hover:-translate-y-0.5 hover:border-[#ff7a00] hover:bg-[#ff7a00]/15 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#ff7a00]"
		>
			En savoir plus sur moi
		</a>
	</div>
</section>
